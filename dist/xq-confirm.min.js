/*!
 * xq-confirm v1.0.9 (https://xqkeji.cn/demo/xq-confirm)
 * Author xqkeji.cn
 * LICENSE SSPL-1.0
 * Copyright 2023 xqkeji.cn
 */
 (function(){"use strict";const O=require("xq-util");const t='<div id="xq-bs-modal" class="modal" tabindex="-1" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i></i><span>title</span></h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><p>Modal content.</p></div><div class="modal-footer"></div></div></div></div>';const e={id:"xq-bs-modal",type:"alert",size:"modal-sm",position:"modal-dialog-centered",template:t,title:"提示信息",content:"您确认要进行操作吗?",icon:"info",confirmButton:"确认",cancelButton:"取消",confirmButtonClass:"btn-primary",cancelButtonClass:"btn-secondary",confirm:()=>{},cancel:()=>{},backgroundDismiss:true,autoClose:false};let n={};const E=(t={})=>{n=Object.assign({},e);if(t){for(const o in t){if(Object.prototype.hasOwnProperty.call(n,o)){n[o]=t[o]}}}};const j=t=>{if(t in n){return n[t]}const o=n["id"];const e=document.querySelector("#"+o);if(e.hasAttribute(t)){return String(e.getAttribute(t))}return""};const o={info:"bi bi-info-circle-fill link-primary",warn:"bi bi-info-circle-fill link-warning",error:"bi bi-info-circle-fill link-danger"};const D=t=>{if(Object.prototype.hasOwnProperty.call(o,t)){return o[t]}else{return t}};const s=(t={})=>{E(t);const o=j("template");O.append(document.body,o);const e=j("id");const s=document.querySelector("#"+e);if(s){const n=s.querySelector(".modal-dialog");const c=j("size");const i=j("position");n.classList.add(c);n.classList.add(i);const l=s.querySelector(".modal-title>i");const a=s.querySelector(".modal-title>span");const r=s.querySelector(".modal-body>p");if(l){const d=j("icon");const u=D(d);l.className=u}if(a){const m=j("title");a.innerHTML=m}if(r){const b=j("content");r.innerHTML=b}if(typeof bootstrap!==void 0&&typeof bootstrap.Modal!==void 0){const f=new bootstrap.Modal(s);const p=document.querySelector(".modal-footer");if(p){const q=j("type");if(q!=="alert"){const S=j("cancelButtonClass");const w=j("cancelButton");O.append(p,'<button id="xq-bs-modal-cancel" type="button" class="btn '+S+'" data-bs-dismiss="modal">'+w+"</button>");const g=p.querySelector("#xq-bs-modal-cancel");g?.addEventListener("click",t=>{t.preventDefault();f.hide();const o=j("cancel");if(o!==null){o()}})}const v=j("confirmButtonClass");const h=j("confirmButton");O.append(p,'<button id="xq-bs-modal-confirm" type="button" class="btn '+v+'">'+h+"</button>");const x=p.querySelector("#xq-bs-modal-confirm");x?.addEventListener("click",t=>{t.preventDefault();f.hide();const o=j("confirm");if(o!==null){o()}})}s.addEventListener("hidden.bs.modal",()=>{f.dispose();s.remove()});const y=j("autoClose");if(y){const L=y;if(L.indexOf("|")){const B=L.split("|");const C=B[0];const k=Number.parseInt(B[1],10);let o;let e;let n=Math.ceil(k/1e3);const M='<span class="countdown"> ('+n+")</span>";if(C==="confirm"){e=p.querySelector("#xq-bs-modal-confirm");O.append(e,M)}else{e=p.querySelector("#xq-bs-modal-cancel");O.append(e,M)}s.addEventListener("show.bs.modal",()=>{o=setInterval(function(){const t=e.querySelector(".countdown");n=n-1;t.innerHTML=" ("+n+") ";if(n<=0){clearInterval(o);e.click()}},1e3)})}}f.show()}else{console.log("error","the bootstrap not loaded!")}}};const c=(t={})=>{s(t)};window.xqConfirm=c;module.exports=c})();